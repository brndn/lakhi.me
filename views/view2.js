
var portfilio = [
    {imageThumb: '1_Screenshot.jpg', movieUrl: '213228273',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Game Design. End of year Game project. Completed in 3 months. 1st game project. Concept creation, Environment Modelling, lighting, Character, Menu, level design and gameplay. Pre-Alpha Game.<br/><br/><b>Software:</b> Maya, Photoshop, Unity, After Effects, Fuse</p><button>click to watch</button>")
    },
    {
imageThumb: '2_Screenshot.jpg',
        movieUrl: '213228870',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Small Environment Modelling 1st time. Concept design, Title sequence, Logo, Menu, Rendering.<br/><br/><b>Software:</b> Maya, Photoshop, After Effects</p><button>click to watch</button>")
    },

    {imageThumb: '3_Screenshot.jpg', movieUrl: '213229561',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Organic Character Modelling, Texturing, Lighting, Rendering.<br/><br/><b>Software:</b> Maya, Photoshop, Mental Ray.</p><button>click to watch</button>")
    },
    {
        imageThumb: '4_Screenshot.jpg',
        movieUrl: '213229662',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> 3000 Poly Character design, Modelling, Texturing, Lighting, Rendering.<br/><br/><b>Software:</b> 3DS Max, Photoshop, Mental Ray.</p><button>click to watch</button>")
    },
    {imageThumb: '5_Screenshot.jpg', movieUrl: '213229918',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> HeadPhone Modelling, Lighting, Rendering.<br/><br/><b>Software:</b> Maya, Mental Ray.</p><button>click to watch</button>")
    },

    {
        imageThumb: '5_1Screenshot.jpg',
        imageLarge: '5_1Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Sculpting, Polypainting. First sculpt in Zbrush.<br/><br/><b>Software:</b> Zbrush.</p><button>click to view</button>")
    },
    {
        imageThumb: '5_2Screenshot.jpg',
        imageLarge: '5_2Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Character Design, Sculpting, Polypainting.<br/><br/><b>Software:</b> Zbrush.</p><button>click to view</button>")
    },

    {
        imageThumb: '6_Screenshot.jpg',
        imageLarge: '6_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Concept Game inspired by Temple run for a Leading DJ.<br/><br/><b>Software:</b> Maya, Fuse, Unity, Photoshop.</p><button>click to view</button>")
    },
    
    {imageThumb: '7_Screenshot.jpg', imageLarge: '7_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Organic Character Modelling.<br/><br/><b>Software:</b> Maya.</p><button>click to view</button>")

    },

    {
        imageThumb: '8_Screenshot.jpg',
        imageLarge: '8_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Low Poly Tree.<br/><br/><b>Software:</b> 3DS Max, Photoshop.</p><button>click to view</button>")

    },
    {
        imageThumb: '9_Screenshot.jpg', imageLarge: '9_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Full body Rigging, incl Blendshapes for facial expressions.<br/><br/><b>Software:</b> Maya.</p><button>click to view</button>")
    },
    {
        imageThumb: '10_Screenshot.jpg',
        imageLarge: '10_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Low Poly Clothing & Hair Design.<br/><br/><b>Software:</b> 3DS Max.</p><button>click to view</button>")
    },
    {
        imageThumb: '11_Screenshot.jpg', imageLarge: '11_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Logo Design.<br/><br/><b>Software:</b> Photoshop, Adobe Illustrator.</p><button>click to view</button>")
    },

    {
        imageThumb: '12_Screenshot.jpg',
        imageLarge: '12_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Character design Biography.<br/><br/><b>Software:</b> Photoshop.</p><button>click to view</button>")
    },
    {
        imageThumb: '15_Screenshot.jpg', imageLarge: '15_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Animal Character Design.<br/><br/><b>Software:</b> Photoshop.</p><button>click to view</button>")
    },
    {
        imageThumb: '16_Screenshot.jpg',
        imageLarge: '16_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Production design end of year project.<br/><br/><b>Software:</b> Photoshop.</p><button>click to view</button>")
    },
    {
        imageThumb: '17_Screenshot.jpg', imageLarge: '17_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Environment Design.<br/><br/><b>Software:</b> Photoshop.</p><button>click to watch</button>")
    },
    {
        imageThumb: '18_Screenshot.jpg',
        imageLarge: '18_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Oil Painting on Canvas.<br/><br/><b>Medium:</b> Oil & Canvas.</p><button>click to view</button>")
    },
    {
        imageThumb: '19_Screenshot.jpg', imageLarge: '19_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Oil Painting on Canvas.<br/><br/><b>Medium:</b> Oil & Canvas.</p><button>click to view</button>")
    },
    {
        imageThumb: '20_Screenshot.jpg',
        imageLarge: '20_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Oil Painting on Canvas.<br/><br/><b>Medium:</b> Oil & Canvas.</p><button>click to view</button>")
    },
    {
        imageThumb: '21_Screenshot.jpg', imageLarge: '21_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Portrait Drawings.<br/><br/><b>Medium:</b> Pencil & Paper.</p><button>click to view</button>")
    },
    {
        imageThumb: '22_Screenshot.jpg',
        imageLarge: '22_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Female Body.<br/><br/><b>Medium:</b> Pencil & Paper.</p><button>click to view</button>")
    },
    {
        imageThumb: '23_Screenshot.jpg', imageLarge: '23_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Male Body.<br/><br/><b>Medium:</b> Pencil & Paper.</p><button>click to view</button>")
    },
    {
        imageThumb: '24_Screenshot.jpg',
        imageLarge: '24_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> Curriculum Vitae.</p><button>click to view</button>")
    },
    {
        imageThumb: '25_Screenshot.jpg', downloadFile: '25_Fullsize.jpg',
        text: $("<h3>MORE INFO</h3><p><b>Description</b> About me.</p><button>click to view</button>")
    },


]




function createImageDom(e) {
    return {
        href: 'resources/images/portfolio-images/' + e.imageLarge,
        html: $("<img>", {
            src: "resources/images/portfolio-thumbnails/" + e.imageThumb, alt: ""
        })
    }

}

function createVideoDom(e) {
    return {
        class: 'popup-vimeo',
        href: 'http://player.vimeo.com/video/' + e.movieUrl,
        html:$("<img>", {
            src: "resources/images/portfolio-thumbnails/" + e.imageThumb, alt: ""
        })
    }

}

portfilio.forEach(function (e) {

    $('#portfolio gallery').append($('<div>', {
        class: 'gallery-inner',
        html: $("<a>", e.movieUrl ? createVideoDom(e) : createImageDom(e))
        .append(e.text)
    }));

})




var elementLength, innerElWidth, currentPosition = 0, increment = 3;

function navigateGallery(pos){
    var newPos;
    if(pos === -1 && -(currentPosition + (pos*increment)) > elementLength){
        newPos = 0;
    }else if(pos === 1 && (currentPosition === 0)){
        newPos = -elementLength;
    }else {

        newPos =  currentPosition + (pos*increment)
    }
    currentPosition = newPos;
    $('#portfolio gallery').animate({left: (innerElWidth)*currentPosition})
}




$(document).on('ready', function () {

    var is_chrome = /chrome/.test( navigator.userAgent.toLowerCase() );
    if(is_chrome){
        $("#portfolio .gallery-shell").addClass('gallery-shell-chrome');
    }

    var generalElement =  $("#portfolio gallery .gallery-inner:first-child")[0];
    innerElWidth =  generalElement.offsetWidth;
    elementLength = portfilio.length-1;

     var leftNavigation = $("#portfolio div.left-nav")
     var rightNavigation = $("#portfolio div.right-nav")

    leftNavigation.click(function(){
        navigateGallery(1);
    });

    rightNavigation.click(function(){
        navigateGallery(-1);
    })


    function callbacks() {
        return {
                open: function () {
                    console.log('Popup open has been initiated');
                    $("div.main-container").addClass("no-pointers");
                    $("#bottom-button").addClass("hidden");
                    $("#top-button").addClass("hidden");
                },
                close: function () {
                    $("div.main-container").removeClass("no-pointers");
                    $("#bottom-button").removeClass("hidden");
                    $("#top-button").removeClass("hidden");

                },
                beforeClose: function() {
                    // Callback available since v0.9.0
                    console.log('Popup close has been initiated');
                },
                // close: function() {
                //     console.log('Popup removal initiated (after removalDelay timer finished)');
                // },
                afterClose: function() {
                    $("div.main-container").removeClass("no-pointers");
                    onWindowResize2();
                    console.log('Popup is completely closed');
                },
            }
        }



        $('#portfolio gallery').magnificPopup({

            delegate: 'a',
            type: 'image',
            closeOnContentClick: false,
            closeBtnInside: false,
            fixedContentPos: false,
            mainClass: 'mfp-with-zoom mfp-img-mobile',
            image: {
                verticalFit: false,
                titleSrc: function(item) {
                    return item.el.attr('title') + ' &middot; <a class="image-source-link" href="'+item.el.attr('data-source')+'" target="_blank">image source</a>';
                }
            },
            gallery: {
                enabled: true
            },
            zoom: {
                enabled: false,
            },
            callbacks: callbacks()
        });

    $('#portfolio gallery .popup-vimeo').magnificPopup({
        type: 'iframe',
        mainClass: 'mfp-with-zoom mfp-img-mobile',
        removalDelay: 160,
        preloader: true,
        closeOnContentClick: false,
        closeBtnInside: false,
        fixedContentPos: false,
        gallery: {
            enabled: false
        },
        zoom: {
            enabled: false,
        },
        callbacks: callbacks()
    });

});